(this.webpackJsonptpv=this.webpackJsonptpv||[]).push([[0],{104:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),u=a(79),o=a(80),i=a(98),s=a(81),m=a(47),d=a(97),E=(a(104),a(139)),f=a(85),p=a(137),b=a(19),h=a(62),y=a(9),g=a(12),v=a(82),T=a(136),O=a(140),_=a(130),C=a(131),S=a(86),j=a(8),D=a.n(j),L="https://secretapi.megabrokerslatam.co",A=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)({}),o=Object(g.a)(u,2),i=o[0],s=o[1],m=function(){return c(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{size:"sm",variant:"info",onClick:function(){return c(!0)}},"Tomar Pedido"),r.a.createElement(T.a,{size:"lg",show:l,onHide:m},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"Tomar Pedido")),r.a.createElement(T.a.Body,null,r.a.createElement(O.a,{defaultActiveKey:"Segundos",id:"uncontrolled-tab-example",className:"flex-row"},Object(h.a)(new Set(e.products.list.map((function(e){return e.family})))).map((function(t,a){return r.a.createElement(_.a,{key:a,tabClassName:"px-2 bg-primary",eventKey:t,title:t},r.a.createElement("div",{className:"py-2"},r.a.createElement(C.a,null,e.products.list.filter((function(e){return e.family===t&&"Y"===e.active})).map((function(e,t){return r.a.createElement(S.a,{key:t,className:"d-flex justify-content-between p-1"},r.a.createElement("span",null,e.name),r.a.createElement("span",null,r.a.createElement(v.a,{size:"sm",onClick:function(){return function(e){var t=Object(y.a)({},i);t[e]&&(t[e].qty>0&&(t[e].qty--,s(t)),0===t[e].qty&&(delete t[e],s(t)))}(e.id)}},"-"),r.a.createElement("span",{className:"btn btn-secondary btn-sm"},i[e.id]?i[e.id].qty:0),r.a.createElement(v.a,{size:"sm",onClick:function(){return function(e){var t=Object(y.a)({},i);t[e]?t[e].qty++:t[e]={qty:1},s(t)}(e.id)}},"+")))})))))})))),r.a.createElement(T.a.Footer,null,r.a.createElement(v.a,{variant:"secondary",onClick:m},"Volver"),r.a.createElement(v.a,{variant:"primary",onClick:function(){D.a.post(L+"/tables/"+e.table.table_id+"/orders",i).then((function(e){return e.data})).then((function(t){e.getTable(e.table.table_id),s([]),m(),e.setNotification("success","Orden Creada")}))}},"Enviar Pedido"))))},N=function(e){var t=e.type;return"pc"===t?r.a.createElement(E.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(E.a.Brand,{href:"#home"},"Joropo Express"),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{className:"mr-auto"},r.a.createElement(f.a.Link,{href:"/"},"Caja"),r.a.createElement(f.a.Link,{as:b.b,to:"/kitchen"},"Cocina"),r.a.createElement(f.a.Link,{as:b.b,to:"/tpv"},"TPV"),r.a.createElement(p.a,{title:"Configuracion",id:"basic-nav-dropdown"},r.a.createElement(p.a.Item,{as:b.b,to:"/reports"},"Reportes"),r.a.createElement(p.a.Item,{href:"#action/3.2"},"Menu del Dia"),r.a.createElement(p.a.Item,{href:"#action/3.3"},"Otros"),r.a.createElement(p.a.Item,{as:b.b,to:"/hall/products"},"Productos"))))):"order"===t?r.a.createElement(E.a,{bg:"light",expand:"lg",className:"d-flex justify-content-between"},r.a.createElement(E.a.Brand,{as:b.b,to:"/tpv"},r.a.createElement("span",{className:"fa fa-arrow-left"})),r.a.createElement(E.a.Brand,{href:"#home"},"Mesa ",e.tableId),r.a.createElement(A,{setNotification:e.setNotification,products:e.products,table:e.table,getTable:e.getTable})):r.a.createElement(E.a,{bg:"light",expand:"lg",className:"d-flex justify-content-start"},r.a.createElement(E.a.Brand,{as:b.b,className:"d-none d-md-inline",to:"/"},r.a.createElement("span",{className:"fa fa-arrow-left"})),r.a.createElement(E.a.Brand,{href:"/tpv"},"Seleccionar Mesa"))},I=a(132),w=a(13),B=function(e,t){return function(a){a({type:"SET_NOTIFICATION",payload:{type:e,message:t}})}},k={flash:null},U=Object(w.b)((function(e){return{flash:e.main.flash}}),(function(e){return{clearNotifications:function(){return e((function(e){e({type:"CLEAR_NOTIFICATION"})}))}}}))((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(N,{type:"pc"}),r.a.createElement("div",{style:{height:50}},e.flash&&r.a.createElement(I.a,{onClose:function(){return e.clearNotifications()},dismissible:!0,variant:e.flash.type},e.flash.message)),e.children)})),x=function(e){return function(t){t({type:"TABLE_REQUESTED"}),D.a.get(L+"/tables/"+e).then((function(e){t({type:"TABLE_SUCCEEDED",payload:e.data.data})})).catch((function(e){t({type:"TABLE_FAILED"})}))}},P={list:[],active:null,loading:!1},R=function(){return function(e){e({type:"PRODUCT_LIST_REQUESTED"}),D.a.get(L+"/products").then((function(t){e({type:"PRODUCT_LIST_SUCCEEDED",payload:t.data.data})})).catch((function(t){e(function(e){return{type:"PRODUCT_LIST_FAILED",payload:e}}(t))}))}},F={list:[],selected:null,loading:!1},q=Object(w.b)((function(e){return{flash:e.main.flash,table:e.tpv.active,products:e.products}}),(function(e){return{clearNotifications:function(){return e((function(e){e({type:"CLEAR_NOTIFICATION"})}))},getTable:function(t){return e(x(t))},getProductList:function(){return e(R())},setNotification:function(t,a){return e(B(t,a))}}}))((function(e){return Object(n.useEffect)((function(){e.getProductList()}),[]),r.a.createElement(n.Fragment,null,e.location?r.a.createElement(N,{getTable:e.getTable,table:e.table,type:"order",setNotification:e.setNotification,products:e.products,tableId:e.match.params.id}):r.a.createElement(N,{type:"tpv"}),r.a.createElement("div",{style:{height:50}},e.flash&&r.a.createElement(I.a,{onClose:function(){return e.clearNotifications()},dismissible:!0,variant:e.flash.type},e.flash.message)),e.children)})),z=a(135),H=a(133),M=a(94),Q=a(141),Y=a(134),G=a(138),W=a(92),J=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),l=a[0],c=a[1],u=function(){return c(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{variant:"primary",onClick:function(){return c(!0)}},"Cerrar Orden"),r.a.createElement(T.a,{show:l,onHide:u},r.a.createElement(G.a,{onSubmit:function(t){t.preventDefault(),console.log(e),e.closeTable(e.table.table_id),u()}},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"Cerrar Mesa #",e.table.table_id)),r.a.createElement(T.a.Body,null,r.a.createElement("p",null,"Total a Cancelar: ",e.total," "),r.a.createElement(W.a,null)),r.a.createElement(T.a.Footer,null,r.a.createElement(v.a,{variant:"secondary",onClick:u},"Cerrar"),r.a.createElement(v.a,{variant:"primary",type:"submit"},"Aceptar")))))},K=function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),l=a[0],c=a[1],u=function(){var t=0;return e.table.current_order&&e.table.current_order.order_products.map((function(e){return t+=e.qty*e.unit_price,null})),t};Object(n.useEffect)((function(){D.a.get(L+"/products").then((function(e){return e.data})).then((function(e){return c(e.data)}))}),[]);return r.a.createElement("div",{className:"table-details"},r.a.createElement(H.a,{noGutters:!0},r.a.createElement(M.a,{sm:12},r.a.createElement(Q.a,null,r.a.createElement(Q.a.Header,null,r.a.createElement("h3",{className:"text-center"},"MESA NUMERO ",e.table.table_id),e.table.current_order&&r.a.createElement("p",{className:"text-center"},"Orden # ",e.table.current_order.id)),r.a.createElement(Q.a.Body,null,r.a.createElement(Y.a,{size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descripcion"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"P. Unitario"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,e.table.current_order&&e.table.current_order.order_products.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,function(e){if(l.length>0)return console.log(e,l),l.find((function(t){return t.id===e})).name}(e.product_id)+" ("+function(e){if(l.length>0)return console.log(e,l),"Completos"===l.find((function(t){return t.id===e})).family?"Completo":"Solo"}(e.product_id)+")"),r.a.createElement("td",null,e.qty),r.a.createElement("td",null,e.unit_price),r.a.createElement("td",null,e.qty*e.unit_price))}))))),!e.table.current_order||"open"!==e.table.current_order.status&&"delivered"!==e.table.current_order.status?null:r.a.createElement(Q.a.Footer,{className:"d-flex justify-content-between"},r.a.createElement("span",null," Total a cobrar: ",u()),r.a.createElement(J,{table:e.table,total:u(),closeTable:e.closeTable}))))))},V=function(){return function(e){e({type:"TABLE_LIST_REQUESTED"}),D.a.get(L).then((function(t){e({type:"TABLE_LIST_SUCCEEDED",payload:t.data.data})})).catch((function(t){e({type:"TABLE_LIST_FAILED"})}))}},$={list:[],selected:null,loading:!1},X=function(e){return r.a.createElement(v.a,{variant:"closed"===e.status?"outline-success":"delivered"===e.status?"outline-warning":"outline-danger",onClick:function(){return e.onSwitch(e.table.table_id)},style:{width:"25%",height:100},className:"mesa my-2 mx-2"},e.table.table_id)},Z=Object(w.b)((function(e){return{list:e.tables.list,activeTable:e.tables.selected}}),(function(e){return{getTableList:function(){return e(V())},setActiveTable:function(t){return e(function(e){return function(t){D.a.get(L+"/tables/"+e).then((function(e){t(function(e){return{type:"SET_ACTIVE_TABLE",payload:e}}(e.data.data))}))}}(t))},closeTable:function(t){return e(function(e){return function(t){D.a.get(L+"/tables/"+e+"/close").then((function(e){t({type:"CLOSE_TABLE_SUCCEEDED",payload:e.data.data})}))}}(t))}}}))((function(e){return Object(n.useEffect)((function(){e.getTableList(),setInterval((function(){e.getTableList()}),1e4)}),[]),r.a.createElement(z.a,{fluid:!0,style:{padding:30}},r.a.createElement(H.a,null,r.a.createElement(M.a,{md:4},r.a.createElement(Q.a,null,r.a.createElement(Q.a.Header,null,"Mesas"),r.a.createElement(Q.a.Body,{className:"d-flex flex-wrap flex-row justify-content-center"},e.list.map((function(t,a){return r.a.createElement(X,{table:t,key:a,onSwitch:e.setActiveTable,active:e.activeTable?e.activeTable.table_id===t.table_id:null,status:t.status})}))))),r.a.createElement(M.a,{md:8},e.activeTable&&r.a.createElement(K,{table:e.activeTable,closeTable:e.closeTable}))))})),ee=a(33),te=function(e){return r.a.createElement(v.a,Object.assign({},e,{as:b.b,to:"/tpv/"+e.id,style:{fontSize:24,marginBottom:10},block:!0}),"MESA ",e.id)},ae=Object(w.b)((function(e){return{tableList:e.tpv.list}}),(function(e){return{getList:function(){e((function(e){e({type:"LIST_REQUESTED"}),D.a.get(L).then((function(t){e({type:"LIST_SUCCEEDED",payload:t.data.data})})).catch((function(t){e({type:"LIST_FAILED"})}))}))}}}))((function(e){return Object(n.useEffect)((function(){e.getList()}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{fluid:!0,style:{padding:15,paddingTop:10}},r.a.createElement(H.a,{className:"text-center"},e.tableList.map((function(e){return r.a.createElement(M.a,{xs:4,style:{paddingLeft:5,paddingRight:5}},r.a.createElement(te,{id:e.table_id,variant:"closed"===e.status?"success":"danger"}))})))))})),ne=Object(w.b)((function(e){return{table:e.tpv.active}}),(function(e){return{getTable:function(t){return e(x(t))}}}))((function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){e.getTable(e.match.params.id)}),[]),Object(n.useEffect)((function(){D.a.get(L+"/products").then((function(e){return e.data})).then((function(e){return c(e.data)}))}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{style:{paddingTop:15}},r.a.createElement(H.a,null,r.a.createElement(M.a,{xs:12},r.a.createElement("h3",{className:"text-center"},"Orden Actual"),e.table&&e.table.current_order?r.a.createElement(Y.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Producto"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Subtotal"))),r.a.createElement("tbody",null,e.table.current_order.order_products.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,function(e){if(l.length>0)return l.find((function(t){return t.id===e})).name}(e.product_id)+" ("+function(e){if(l.length>0)return"Completos"===l.find((function(t){return t.id===e})).family?"Completo":"Solo"}(e.product_id)+")"),r.a.createElement("td",null,e.qty),r.a.createElement("td",null,e.unit_price),r.a.createElement("td",null,e.qty*e.unit_price))})))):r.a.createElement("p",{className:"text-center"},"No hay Orden Abierta para esta mesa")))))})),re=function(e){var t=Object(n.useState)(null),a=Object(g.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)([]),o=Object(g.a)(u,2),i=o[0],s=o[1];Object(n.useEffect)((function(){m(),setTimeout((function(){return m()}),1e4)}),[]),Object(n.useEffect)((function(){D.a.get(L+"/products").then((function(e){return e.data})).then((function(e){return s(e.data)}))}),[]);var m=function(){D.a.get(L+"/orders").then((function(e){return e.data})).then((function(e){c(e.data)}))},d=function(e){if(i.length>0)return console.log(e,i),i.find((function(t){return t.id===e})).name},E=function(){if(l){var e={};return l.forEach((function(t){"open"===t.status&&t.order_products.forEach((function(t){var a=d(t.product_id);e[a]?e[a]=e[a]+t.qty:e[a]=t.qty}))})),e}return{}};return r.a.createElement(z.a,{fluid:!0,className:"w-100 px-0"},r.a.createElement(H.a,{noGutters:!0},r.a.createElement(M.a,{sm:9},r.a.createElement(Q.a,null,r.a.createElement(Q.a.Header,null,"Ordenes"),r.a.createElement(Q.a.Body,null,r.a.createElement(H.a,null,l&&l.map((function(e){var t="open"===e.status?"bg-success":"warning"===e.status?"bg-warning":"bg-danger";return r.a.createElement(M.a,{sm:4,className:"my-4"},r.a.createElement(Q.a,{border:"primary",style:{minHeight:200}},r.a.createElement(Q.a.Header,{className:t+" d-flex justify-content-between"},r.a.createElement("span",null,"#",e.id),r.a.createElement(v.a,{disabled:"open"!==e.status,onClick:function(){return t=e.id,void(window.confirm("Desea entegar esta orden")&&D.a.post(L+"/orders/"+t+"/deliver").then((function(e){return e.data})).then((function(e){m()})));var t},size:"sm",variant:"info"},"Entregar")),r.a.createElement(Q.a.Body,null,r.a.createElement(Y.a,{size:"sm",variant:"bordered"},r.a.createElement("tbody",null,e.order_products.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.qty),r.a.createElement("td",null,d(e.product_id)))})))))))}))))))),r.a.createElement(Q.a,{id:"totalpedidos"},r.a.createElement(Q.a.Header,null,"Total Pedidos:"),r.a.createElement(C.a,null,Object.keys(E()).map((function(e){return r.a.createElement(S.a,{className:"py-1 px-2 d-flex justify-content-between"},r.a.createElement("span",null,e),r.a.createElement("span",null,E()[e]))})))))},le=a(93),ce=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),o=Object(g.a)(u,2),i=o[0],s=o[1],m=Object(n.useState)(""),d=Object(g.a)(m,2),E=d[0],f=d[1],p=Object(n.useState)(""),b=Object(g.a)(p,2),h=b[0],y=b[1],O=function(){return c(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{className:"mb-3",variant:"primary",onClick:function(){return c(!0)}},"Crear Producto"),r.a.createElement(T.a,{show:l,onHide:O},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"Crear Producto")),r.a.createElement(T.a.Body,null,r.a.createElement(G.a,null,r.a.createElement(W.a,null,r.a.createElement("label",null,"Nombre:"),r.a.createElement(le.a,{value:i,size:"sm",onChange:function(e){var t=e.target;return s(t.value)}})),r.a.createElement(W.a,null,r.a.createElement("label",null,"Familia:"),r.a.createElement(le.a,{value:E,size:"sm",onChange:function(e){var t=e.target;return f(t.value)}})),r.a.createElement(W.a,null,r.a.createElement("label",null,"Precio:"),r.a.createElement(le.a,{value:h,type:"number",onChange:function(e){var t=e.target;return y(t.value)},size:"sm"})))),r.a.createElement(T.a.Footer,null,r.a.createElement(v.a,{variant:"secondary",onClick:O},"Close"),r.a.createElement(v.a,{variant:"success",onClick:function(){var t={name:i,family:E,price:h};e.handleSubmit(t),O()}},"Crear!"))))},ue=function(e){return Object(n.useEffect)((function(){e.getProductList()}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(ce,{handleSubmit:e.createProduct}),r.a.createElement(O.a,{defaultActiveKey:"Segundos",id:"uncontrolled-tab-example"},Object(h.a)(new Set(e.products.list.map((function(e){return e.family})))).map((function(t){return r.a.createElement(_.a,{eventKey:t,title:t},r.a.createElement(Y.a,{variant:"striped",size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Familia"),r.a.createElement("th",null,"Precio Base"),r.a.createElement("th",null,"Act/Desact."))),r.a.createElement("tbody",null,e.products.list.filter((function(e){return e.family===t})).map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.family),r.a.createElement("td",null,t.price),r.a.createElement("td",null,r.a.createElement(v.a,{onClick:function(){return e.toggleProduct(t.id)},size:"xs",variant:"Y"===t.active?"danger":"success"},"Y"===t.active?"Desactivar":"Activar")))})))))}))))},oe=Object(w.b)((function(e){return{products:e.products}}),(function(e){return{getProductList:function(){return e(R())},createProduct:function(t){var a=t.name,n=t.family,r=t.price;return e(function(e){var t=e.name,a=e.family,n=e.price;return function(e){e({type:"PRODUCT_CREATE_REQUESTED"}),D.a.post(L+"/products",{product:{name:t,family:a,price:n}}).then((function(t){e((t.data.data,{type:"PRODUCT_CREATE_SUCCEEDED"})),e(B("success",t.data.data)),e(R())})).catch((function(t){e({type:"PRODUCT_CREATE_FAILED"})}))}}({name:a,family:n,price:r}))},toggleProduct:function(t){return e(function(e){return function(t){t({type:"PRODUCT_TOGGLE_REQUESTED"}),D.a.get(L+"/products/"+e+"/toggle").then((function(e){t((e.data.data,{type:"PRODUCT_TOGGLE_SUCCEEDED"})),t(B("success",e.data.data)),t(R())})).catch((function(e){t(B("danger","Error")),t({type:"PRODUCT_TOGGLE_FAILED"})}))}}(t))}}}))((function(e){return r.a.createElement(z.a,{fluid:!0,style:{padding:30}},r.a.createElement(ee.d,null,r.a.createElement(ee.b,{exact:!0,path:"/hall/products",render:function(){return r.a.createElement(ue,e)}})))})),ie=function(e){Object(n.useEffect)((function(){e.getDayBalance()}),[]);var t=[];return e.balance.map((function(e,a){return a>0?t.push(e.qty*e.price+t[a-1]):t.push(e.qty*e.price)})),r.a.createElement(Q.a,null,r.a.createElement(Q.a.Header,null,"Balance del dia"),r.a.createElement(Q.a.Body,null,r.a.createElement(Y.a,null,r.a.createElement("thead",null,r.a.createElement("th",null,"Concepto"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Movimiento"),r.a.createElement("th",null,"Saldo")),r.a.createElement("tbody",null,e.balance.map((function(e,a){return r.a.createElement("tr",null,r.a.createElement("td",null,e.product),r.a.createElement("td",null,e.qty),r.a.createElement("td",null,e.qty*e.price),r.a.createElement("td",null,t[a]))}))))))},se={balance:[],loading:!1},me=Object(w.b)((function(e){return{balance:e.reports.balance}}),(function(e){return{getDayBalance:function(){return e((function(e){e({type:"DAY_BALANCE_REQUEST"}),D.a.get(L+"/balance").then((function(t){e({type:"DAY_BALANCE_SUCCEEDED",payload:t.data.data})})).catch((function(t){e({type:"DAY_BALANCE_FAILED"})}))}))}}}))((function(e){return r.a.createElement(z.a,{fluid:!0,style:{padding:30}},r.a.createElement(ee.d,null,r.a.createElement(ee.b,{exact:!0,path:"/reports",render:function(){return r.a.createElement(ie,e)}})))})),de=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).timeout=250,a.connect=function(){var e,t=new WebSocket("ws://localhost:8000/demo"),n=Object(m.a)(a);t.onopen=function(){console.log("connected websocket main component"),a.setState({ws:t}),n.timeout=250,clearTimeout(e)},t.onclose=function(t){console.log("Socket is closed. Reconnect will be attempted in ".concat(Math.min(10,(n.timeout+n.timeout)/1e3)," second."),t.reason),n.timeout=n.timeout+n.timeout,e=setTimeout(a.check,Math.min(1e4,n.timeout))},t.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),t.close()},t.onmessage=function(e){var t=JSON.parse(e.data);switch(t.action){case"updateTables":console.log(t),Te.dispatch(V());break;default:console.log(t,"aaa")}}},a.check=function(){var e=a.state.ws;e&&e.readyState!==WebSocket.CLOSED||a.connect()},a.state={ws:null},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(ee.d,null,r.a.createElement(ee.b,{path:"/hall",render:function(){return r.a.createElement(Ee,null)}}),r.a.createElement(ee.b,{path:"/tpv",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(ee.b,{path:"/kitchen",component:function(){return r.a.createElement(re,null)}}),r.a.createElement(ee.b,{exact:!0,path:"/",render:function(){return r.a.createElement(ee.a,{to:"/hall"})}})))}}]),t}(r.a.Component),Ee=function(e){return r.a.createElement(ee.d,null,r.a.createElement(U,null,r.a.createElement(ee.b,{path:"/hall/products",component:function(){return r.a.createElement(oe,null)}}),r.a.createElement(ee.b,{exact:!0,path:"/hall/reports",component:function(){return r.a.createElement(me,null)}}),r.a.createElement(ee.b,{exact:!0,path:"/hall",render:function(){return r.a.createElement(Z,null)}})))},fe=function(e){return r.a.createElement(ee.d,null,r.a.createElement(ee.b,{exact:!0,path:"/tpv/",render:function(){return r.a.createElement(q,null,r.a.createElement(ae,null))}}),r.a.createElement(ee.b,{path:"/tpv/:id",render:function(e){return r.a.createElement(q,e,r.a.createElement(ne,e))}}))},pe=de;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=a(38),he=a(95),ye=a(96);a.d(t,"store",(function(){return Te}));var ge=Object(be.combineReducers)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return Object(y.a)({},e,{flash:t.payload});case"CLEAR_NOTIFICATION":return Object(y.a)({},e,{flash:null});default:return e}},tables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TABLE_LIST_REQUESTED":return Object(y.a)({},e,{loading:!0});case"TABLE_LIST_SUCCEEDED":return Object(y.a)({},e,{loading:!1,list:t.payload});case"TABLE_LIST_FAILED":return Object(y.a)({},e,{loading:!1});case"SET_ACTIVE_TABLE":var a=t.payload;return Object(y.a)({},e,{selected:a});case"CLOSE_TABLE_SUCCEEDED":return Object(y.a)({},e,{selected:null});default:return e}},tpv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_SUCCEEDED":return Object(y.a)({},e,{list:t.payload});case"TABLE_SUCCEEDED":return Object(y.a)({},e,{active:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUESTED":return Object(y.a)({},e,{loading:!0});case"PRODUCT_LIST_SUCCEEDED":return Object(y.a)({},e,{loading:!1,list:t.payload});case"PRODUCT_LIST_FAILED":return Object(y.a)({},e,{loading:!1});default:return e}},reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DAY_BALANCE_REQUEST":return Object(y.a)({},e,{loading:!0});case"DAY_BALANCE_SUCCEEDED":return Object(y.a)({},e,{loading:!1,balance:t.payload});case"DAY_BALANCE_FAILED":return Object(y.a)({},e,{loading:!1});default:return e}}}),ve=[he.a],Te=Object(be.createStore)(ge,Object(ye.composeWithDevTools)(be.applyMiddleware.apply(void 0,ve)));c.a.render(r.a.createElement(w.a,{store:Te},r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){e.exports=a(128)}},[[99,1,2]]]);
//# sourceMappingURL=main.203474d7.chunk.js.map